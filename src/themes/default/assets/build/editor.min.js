!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i():"function"==typeof define&&define.amd?define(i):i()}(this,function(){"use strict";function e(){var e=require("./ui/tool-menu/images/view"),i=require("./ui/tool-menu/text/view"),r=require("./ui/tool-menu/import/view"),t=require("./ui/tool-menu/customize/view"),n=require("./ui/tool-menu/templates/view"),o=require("./ui/tool-menu/settings/view"),a=require("./ui/tool-menu/admin/view"),s=require("./ui/tool-menu/library/view");if(window.INKIVE.Tabs={},window.INKIVE.Tabs.images=new e({el:"#tabImages"}),window.INKIVE.Tabs.text=new i({el:"#tabText"}),window.INKIVE.Tabs.import=new r({el:"#tabImport"}),window.INKIVE.Tabs.extra=new t({el:"#tabExtra"}),window.INKIVE.Tabs.layouts=new n({el:"#tabLayouts"}),window.INKIVE.Tabs.settings=new o({el:"#tabSettings"}),window.INKIVE.Tabs.admin=new a({el:"#tabAdmin"}),window.INKIVE.Tabs.library=new s({el:"#tabLibrary"}),$("#tabRestrictions").length){var u=require("./ui/tool-menu/restrictions/view");window.INKIVE.RestrictionsFactory=require("./factory/restrictions"),window.INKIVE.Tabs.restrictions=new u({el:"#tabRestrictions"})}}function i(){window.INKIVE.Tool=window.INKIVE.Tool||{},window.INKIVE.Helpers=window.INKIVE.Helpers||{},window.INKIVE.Helpers.mobileVersion=require("./app/version"),window.INKIVE.Helpers.cookieStorage=require("./utils/cookie-storage"),window.INKIVE.Helpers.imagesSanitize=require("./utils/images-sanitize"),window.INKIVE.SVGElementLoading=require("./SVGElementLoading"),INKIVE.C.IS_MOBILE_APP&&(window.AppBridge=require("./app/bridge")),require("./utils/ellipsis")(),require("./utils/backbone-mixin");var e=INKIVE.Tool.getInstance();e.editor.on("initialize",function(){var i=require("./utils/advice");i.initialize(e.editor.canvas)})}function r(){var e=require("../../translations/translate-helper");return window.INKIVE.TranslateHelper=new e("editor",INKIVE.C.BASE_URL+"assets/build/translations/client/",INKIVE.C.BUILD),_.bindAll(window.INKIVE.TranslateHelper,"translate"),INKIVE.TranslateHelper.load()}function t(){window.INKIVE.ModalHelp=require("./modal/help"),window.INKIVE.ModalAddPage=require("./modal/add-page"),window.INKIVE.ModalShareEmail=require("./modal/share-email"),window.INKIVE.ModalShareEmbed=require("./modal/share-embed"),window.INKIVE.ModalFriends=require("./modal/friends"),window.INKIVE.ModalDownload=require("./modal/download")}function n(){window.INKIVE.SVGPlaceholderImage=require("./thumb/placeholder")}function o(){require("./ui/filterpicker");var e=INKIVE.C.MODE.IS_DESYGNER&&!INKIVE.C.IS_MOBILE,i=require("./ui/stage-dnd");e&&i.init()}function a(){var e=require("hbsfy/runtime");window.INKIVE.TemplatesHelper=require("./ui/templates/templates-helper"),e.registerHelper("Desygner",function(e){return INKIVE.C.MODE.IS_DESYGNER?e.fn(this):e.inverse(this)}),e.registerHelper("Photobooky",function(e){return INKIVE.C.MODE.IS_DESYGNER?e.inverse(this):e.fn(this)}),e.registerHelper("Mobile",function(e){return INKIVE.C.IS_MOBILE?e.fn(this):e.inverse(this)}),e.registerHelper("Desktop",function(e){return INKIVE.C.IS_MOBILE?e.inverse(this):e.fn(this)}),e.registerHelper("low",function(e){return e.toLowerCase()}),e.registerHelper("upp",function(e){return e.toUpperCase()}),e.registerHelper("route",function(e){return INKIVE.C.BASE_URL+e}),e.registerHelper("eq",function(e,i,r){return e==i?r.fn(this):r.inverse(this)}),e.registerHelper("if_eq",function(e,i,r){return e==i?r.fn(this):r.inverse(this)}),e.registerHelper("math",function(e,i,r,t){return e=parseFloat(e),r=parseFloat(r),{"+":e+r,"-":e-r,"*":e*r,"/":e/r,"%":e%r}[i]})}$(function(){var s=r();a(),t(),o(),n(),i(),e(),require("./analytics/error-track"),s.done(function(){require("./utils/translate-constants")(window.INKIVE.TranslateHelper.translate),window.INKIVE.Menus={};var e=require("./ui/top-submenu/view"),i=require("./ui/bottom-submenu/view"),r=require("./ui/mobile-tool-menu/view");new e({el:"#header"}),new r({el:"#mobile-tool-menu"}),window.INKIVE.Menus.bottomSubmenu=new i({el:"#bottom-submenu"})}),window.INKIVE.DesignFacade=require("./facade/design/design"),window.INKIVE.EditorFacade=require("./facade/editor/editor"),window.INKIVE.ProjectFacade=require("./facade/project/project"),window.INKIVE.RestrictionsFacade=require("./facade/restrictions/restrictions"),window.INKIVE.EditorModeManager=require("./ui/editor-mode-manager"),window.INKIVE.SettingsFactory=require("./factory/settings"),window.INKIVE.ImagesFactory=require("./factory/images"),window.INKIVE.PageThumbnailFactory=require("./factory/page-thumbnail"),window.INKIVE.LibraryFactory=require("./factory/library"),window.INKIVE.UserInfoFactory=require("./factory/user-info"),window.INKIVE.FontsFactory=require("./factory/fonts"),INKIVE.FontsFactory.initialize()})});